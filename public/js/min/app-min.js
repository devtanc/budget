angular.module("budgetApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"/temps/frontPage.temp.html",controller:"FrontPageController"}).when("/viewAll",{templateUrl:"/temps/all.temp.html",controller:"ViewAllPageController"}).when("/edit/:recurrence/:creationDate",{templateUrl:"/temps/edit.temp.html",controller:"EditPageController"}).when("/createNew",{templateUrl:"/temps/new.temp.html",controller:"CreationController"})}]);var budgetApp=angular.module("budgetApp");budgetApp.controller("FrontPageController",["$scope","$location","$http",function(a,b,c){a.goTo=function(a){b.path(a)},c.get("/api/getAllExpenses").then(function(b){a.expenses=b.data})}]),budgetApp.controller("ViewAllPageController",["$scope","$location","$http",function(a,b,c){a.goTo=function(a,c,d){"edit"===a?b.path(a+"/"+c+"/"+encodeURIComponent(d)):b.path(a)},c.get("/api/getAllExpenses").then(function(b){a.expenses=b.data})}]),budgetApp.controller("EditPageController",["$scope","$location","$http","$routeParams",function(a,b,c,d){var e=d.recurrence,f=d.creationDate;a.goTo=function(a){b.path(a)},c.get("/api/getExpense/"+e+"/"+f).then(function(b){a.expense=b.data.Item||null})["catch"](function(a){console.error(a)})}]),budgetApp.controller("CreationController",["$scope","$location","$http",function(a,b,c){a.recurrence=void 0,a.goTo=function(a){b.path(a)};var d={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11},e={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};a.globalFields=[{name:"amount",type:"number",step:"0.01",value:void 0},{name:"payee",type:"text",value:void 0},{name:"purpose",type:"text",value:void 0}],a.recurrenceTypes=[{name:"paycheck",fields:[]},{name:"monthly",fields:[{name:"day_of_month",type:"number",step:"1",value:void 0}]},{name:"monthly-on",fields:[{name:"day_of_week",options:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],value:void 0},{name:"numerical_day_of_week",hidden:!0,value:void 0},{name:"which",type:"number",step:"1",value:void 0}]},{name:"yearly",fields:[{name:"day_of_month",type:"number",step:"1",value:void 0},{name:"month",options:["January","February","March","April","May","June","July","August","September","October","November","December"],value:void 0},{name:"numerical_month",hidden:!0,value:void 0}]},{name:"one-off",fields:[{name:"date",type:"date",value:void 0},{name:"paid",type:"checkbox",value:!1}]}],a.updateFields=function(b){a.calculatedFields=_.find(a.recurrenceTypes,function(a){return a.name===b})},a.saveExpense=function(){var b={recurrence:a.recurrence,creationDate:(new Date).toISOString()};a.globalFields.forEach(function(a){b[a.name]=a.value}),a.calculatedFields.fields.forEach(function(c){var f;"day_of_week"===c.name?(f=_.find(a.calculatedFields.fields,function(a){return"numerical_day_of_week"===a.name}),f.value=e[c.value]):"month"===c.name&&(f=_.find(a.calculatedFields.fields,function(a){return"numerical_month"===a.name}),f.value=d[c.value]),b[c.name]=c.value}),c({method:"POST",url:"/api/createExpense",headers:{"Content-Type":"application/json"},data:b}).then(function(){a.goTo("/")})["catch"](function(a){console.error(a)})}}]);var budgetApp=angular.module("budgetApp"),budgetApp=angular.module("budgetApp");